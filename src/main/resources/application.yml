spring:
  application.name: tgmeng-api

server:
  port: 4399
  servlet:
    context-path: /api

management:
  endpoints:
    web:
      exposure:
        # 暴露健康检查端点
        include: health
        # 可选：设置 Actuator 端点的基本路径（默认 /actuator）
      base-path: /actuator
  endpoint:
    health:
      # 显示健康检查的详细信息
      show-details: always

forest:
  max-connections: 1000        # 连接池最大连接数
  connect-timeout: 300000        # 连接超时时间，单位为毫秒
  read-timeout: 120000           # 数据读取超时时间，单位为毫秒
  log-enabled: false            # 打开或关闭日志（默认为 true）
  log-request: false            # 打开/关闭Forest请求日志（默认为 true）
  log-response-status: false    # 打开/关闭Forest响应状态日志（默认为 true）
  log-response-content: false   # 打开/关闭Forest响应内容日志（默认为 false）
  auto-redirection: true # true 为开启，false 为关闭 # 全局自动重定向开关，默认为开启
  max-retry-count: 1           # 请求失败后重试次数（默认为 0 次不重试）
  max-retry-interval: 0 # 为最大重试时间间隔, 单位为毫秒，默认为 0 毫秒
  interceptors:
    - com.tgmeng.common.interceptor.MyHTTPInterceptor #全局http请求拦截器


my-config:
  ai:
    max-retry-times: 1     # AI模型的最大重试次数
    retry-delay-ms: 1000   # AI模型的重试时间间隔(毫秒)
    max-tokens: 40000      # AI输出的最大token限制
  proxy:
    top-search:
      enabled: false            # 是否开启代理
  schedule:
    controller-api-top-search:
      enabled: true                 #是否开启定时任务，不开启的话，所有数据都是从接口获取，下面的其他这些配置就没用了
  data-cache:
    top-search:
      enabled: true           #是否开启缓存，不开启的话，所有数据都是从接口获取，下面的其他这些配置就没用了
      max-size: 5000         #最大缓存条数
      expire-time: 172800       # 通用缓存过期时间 单位是秒,里默认缓存个48小时
  subscription:
    dir: ./data/subscriptions/     # 订阅去重的key所在的文件夹
    max-hot-number: 10000          # 每个人最多存10000条
  history:
    dir: ./data/history/       # 历史数据文件所在的文件夹，历史数据目前用来查询热点轨迹
    keep-day: 36500               # 历史数据保留天数
    sim-hash-distance: 15        # 相似度哈希汉明距离  就是汉明距离在多少以内就判断为相似热点
    sudden-heat-point-time-window: 60        # 默认突发热点查询时间窗口 单位是分钟
    sudden-heat-point-platform-num-least: 2  # 突发热点查询最少平台数  就是在时间窗口内，至少有多少个平台搜索到了这个热点，才认为是突发热点
    sudden-heat-point-result-limit: 100              # 突发热点查询结果最多返回多少条
  license:
    enabled: true                # 是否开启密钥限制，false的话，就是全部功能开放
    dir: ./data/license/
  log:
    license:
      dir: ./data/log/license/   #密钥使用的记录日志存储位置
      max-log-size: 10485760   # 最大10M
      keep-log-size: 9437184 #超过10M后，保留后面的9M，然后继续写




# 翻译服务配置
translation:
  # ==================== 国内平台（推荐优先使用） ====================

  # 1. 小牛翻译 ⭐⭐⭐⭐⭐（额度最大）
  niutrans:
    enabled: false
    priority: 1
    apikey: apikey

  # 2. 腾讯翻译 ⭐⭐⭐⭐⭐（推荐）
  tencent:
    enabled: false
    priority: 2
    secretid: secretid
    secretkey: secretkey
    region: ap-shanghai

  # 3. 百度翻译 ⭐⭐⭐⭐
  baidu:
    enabled: false
    priority: 3
    appid: appid
    secret: secret

  # 4. 阿里翻译 ⭐⭐⭐
  ali:
    enabled: true
    priority: 8
    accesskeyid: accesskeyid
    accesskeysecret: accesskeysecret

  # 5. Google翻译 ⭐⭐⭐⭐（质量最好）
  google:
    enabled: false
    priority: 4
    apikey: your_google_apikey

  # 6. 微软翻译 ⭐⭐⭐⭐
  microsoft:
    enabled: false
    priority: 5
    subscriptionkey: subscriptionkey
    region: eastasia

  # 7. 有道翻译 ⭐⭐⭐
  youdao:
    enabled: false
    priority: 6
    appkey: appkey
    secret: secret

  # 8. DeepL翻译 ⭐⭐⭐⭐（欧洲语言质量最好）
  deepl:
    enabled: false
    priority: 7
    authkey: your_deepl_authkey